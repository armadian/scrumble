<form layout="column" flex="100" name="daily">
    <md-card flex="80" flex-sm="100" flex-xs="100">
        <md-card-title flex="nogrow">
            <md-card-title-text flex="grow"><span class="md-headline">Subject</span><span class="md-subhead">The subject is very important. It will determine if your customer will read your report. Change it every day with the main point of your report</span></md-card-title-text>
            <div flex="flex"></div>
            <template-call-to-action sections="sections" section="subject"></template-call-to-action>
            <dynamic-fields-call-to-action></dynamic-fields-call-to-action>
        </md-card-title>
        <md-card-content layout="column">
            <md-input-container><input ng-model="sections.subject" aria-label="subject" /></md-input-container>
        </md-card-content>
    </md-card>
    <md-card flex="80" flex-sm="100" flex-xs="100">
        <md-card-title flex="nogrow">
            <md-card-title-text><span class="md-headline">Introduction</span></md-card-title-text>
            <div flex="flex"></div>
            <markdown-helper></markdown-helper>
            <template-call-to-action sections="sections" section="intro"></template-call-to-action>
            <dynamic-fields-call-to-action></dynamic-fields-call-to-action>
        </md-card-title>
        <md-card-content>
            <md-input-container class="md-block"><textarea ng-model="sections.intro" aria-label="intro"></textarea></md-input-container>
        </md-card-content>
    </md-card>
    <md-card flex="80" flex-sm="100" flex-xs="100">
        <md-card-title flex="nogrow">
            <md-card-title-text><span class="md-headline">Sprint Progress</span></md-card-title-text>
            <div flex="flex"></div>
            <markdown-helper></markdown-helper>
            <template-call-to-action sections="sections" section="progress"></template-call-to-action>
            <dynamic-fields-call-to-action></dynamic-fields-call-to-action>
        </md-card-title>
        <md-card-content>
            <md-input-container class="md-block"><textarea ng-model="sections.progress" aria-label="progress"></textarea></md-input-container>
        </md-card-content>
    </md-card>
    <md-card flex="80" flex-sm="100" flex-xs="100" class="progress-images-section">
        <md-card-title flex="nogrow">
            <md-card-title-text>
                <span class="md-headline">Images to insert in sprint progress</span>
                <span class="md-subhead subhead">Upload area for three images insertable in the Sprint Progress section with {image1}, {image2} and {image3} dynamic fields</span>
            </md-card-title-text>
        </md-card-title>
        <md-card-content>
            <div flex="100" class="progress-images">
                <div class="progress-image-container">
                    <div class="progress-image-preview">
                        <p class="progress-image-label">{image1}</p>
                        <label class="progress-image-upload" for="image1">
                            <div class="progress-image-upload-preview">
                                <img class="image-preview" ng-if="sections.progressImage.localUrl" ng-src="{{sections.progressImage.localUrl}}" />
                                <md-icon ng-if="sections.progressImage.localUrl == undefined" md-svg-src="icons/document-file-download.svg"></md-icon>
                            </div>
                            <div class="progress-image-upload-info">
                                <p ng-if="sections.progressImage.name !== undefined" class="filename">{{sections.progressImage.name}}</p>
                                <p ng-if="sections.progressImage.name !== undefined" class="upload-another-image">Re-upload an image</p>
                                <p ng-if="sections.progressImage.name === undefined" class="no-image-selected">Upload image</p>
                            </div>
                        </label>
                    </div>
                    <input type="file" id="image1" name="image1" fileread="sections.progressImage" accept="image/*" class="hidden-input"/>
                </div>
                <div class="progress-image-container">
                    <div class="progress-image-preview">
                        <p class="progress-image-label">{image2}</p>
                        <label class="progress-image-upload" for="image2">
                            <div class="progress-image-upload-preview">
                                <img class="image-preview" ng-if="sections.progressImage2.localUrl" ng-src="{{sections.progressImage2.localUrl}}" />
                                <md-icon ng-if="sections.progressImage2.localUrl == undefined" md-svg-src="icons/document-file-download.svg"></md-icon>
                            </div>
                            <div class="progress-image-upload-info">
                                <p ng-if="sections.progressImage2.name !== undefined" class="filename">{{sections.progressImage2.name}}</p>
                                <p ng-if="sections.progressImage2.name !== undefined" class="upload-another-image">Re-upload an image</p>
                                <p ng-if="sections.progressImage2.name === undefined" class="no-image-selected">Upload image</p>
                            </div>
                        </label>
                    </div>
                    <input type="file" id="image2" name="image2" fileread="sections.progressImage2" accept="image/*" class="hidden-input"/>
                </div>
                <div class="progress-image-container">
                    <div class="progress-image-preview">
                        <p class="progress-image-label">{image3}</p>
                        <label class="progress-image-upload" for="image3">
                            <div class="progress-image-upload-preview">
                                <img class="image-preview" ng-if="sections.progressImage3.localUrl" ng-src="{{sections.progressImage3.localUrl}}" />
                                <md-icon ng-if="sections.progressImage3.localUrl == undefined" md-svg-src="icons/document-file-download.svg"></md-icon>
                            </div>
                            <div class="progress-image-upload-info">
                                <p ng-if="sections.progressImage3.name !== undefined" class="filename">{{sections.progressImage3.name}}</p>
                                <p ng-if="sections.progressImage3.name !== undefined" class="upload-another-image">Re-upload an image</p>
                                <p ng-if="sections.progressImage3.name === undefined" class="no-image-selected">Upload image</p>
                            </div>
                        </label>
                    </div>
                    <input type="file" id="image3" name="image3" fileread="sections.progressImage3" accept="image/*" class="hidden-input"/>
                </div>
            </div>
        </md-card-content>
    </md-card>
    <md-card flex="80" flex-sm="100" flex-xs="100">
        <md-card-title flex="nogrow">
            <md-card-title-text flex="grow"><span class="md-headline">Previous Goals</span><span class="md-subhead">The list of goals in the previous email. It's green if the trello ticket is in the "done column"</span></md-card-title-text>
            <div flex="flex"></div>
            <markdown-helper></markdown-helper>
            <template-call-to-action sections="sections" section="previousGoalsIntro"></template-call-to-action>
            <dynamic-fields-call-to-action></dynamic-fields-call-to-action>
        </md-card-title>
        <md-card-content flex="flex" layout="column">
            <md-input-container><label>Previous goal introduction</label><input ng-model="sections.previousGoalsIntro" /></md-input-container>
            <previous-goals markdown="sections.previousGoals" sprint="sprint"></previous-goals>
        </md-card-content>
    </md-card>
    <md-card flex="80" flex-sm="100" flex-xs="100">
        <md-card-title flex="nogrow">
            <md-card-title-text flex="grow"><span class="md-headline">Today's Goals</span><span class="md-subhead">The list of tickets in "sprint", "doing", "blocked", "toValidate" columns</span></md-card-title-text>
            <div flex="flex"></div>
            <daily-inspiration></daily-inspiration>
            <markdown-helper></markdown-helper>
            <template-call-to-action sections="sections" section="todaysGoalsIntro"></template-call-to-action>
            <dynamic-fields-call-to-action></dynamic-fields-call-to-action>
        </md-card-title>
        <md-card-content flex="flex" layout="column">
            <md-input-container><label>Today's goal introduction</label><input ng-model="sections.todaysGoalsIntro" /></md-input-container>
            <select-goals markdown="sections.todaysGoals" project="project" sprint="sprint"></select-goals>
        </md-card-content>
    </md-card>
    <md-card flex="80" flex-sm="100" flex-xs="100">
        <md-card-title flex="nogrow">
            <md-card-title-text><span class="md-headline">Problems</span></md-card-title-text>
            <div flex="flex"></div>
            <markdown-helper></markdown-helper>
            <template-call-to-action sections="sections" section="problemsIntro"></template-call-to-action>
            <dynamic-fields-call-to-action></dynamic-fields-call-to-action>
        </md-card-title>
        <md-card-content flex="flex" layout="column">
            <md-input-container><label>Today's problems introduction</label><input ng-model="sections.problemsIntro" /></md-input-container>
            <select-problems markdown="sections.problems" project="project"></select-problems>
        </md-card-content>
    </md-card>
    <md-card flex="80" flex-sm="100" flex-xs="100">
        <md-card-title flex="nogrow">
            <md-card-title-text><span class="md-headline">Conclusion</span></md-card-title-text>
            <div flex="flex"></div>
            <markdown-helper></markdown-helper>
            <template-call-to-action sections="sections" section="conclusion"></template-call-to-action>
            <dynamic-fields-call-to-action></dynamic-fields-call-to-action>
        </md-card-title>
        <md-card-content>
            <md-input-container class="md-block"><textarea ng-model="sections.conclusion" aria-label="conclusion"></textarea></md-input-container>
        </md-card-content>
    </md-card>
</form>
<div class="hidden-bdc">
    <sprint-widget project="project" sprint="sprint"></sprint-widget>
</div>
<md-fab-speed-dial class="md-scale board-call-to-actions" md-direction="up" md-open="isOpen" ng-mouseenter="isOpen=true" ng-mouseleave="isOpen=false">
    <md-fab-trigger>
        <md-button class="md-fab md-accent" ng-click="preview($event)" aria-label="menu">
            <md-icon md-svg-icon="eye">Preview</md-icon>
            <md-tooltip md-direction="left">Preview</md-tooltip>
        </md-button>
    </md-fab-trigger>
    <md-fab-actions>
        <md-button class="md-fab md-raised md-mini" aria-label="save" ng-click="save()">
            <md-icon md-svg-src="content-save" aria-label="save"></md-icon>
        </md-button>
    </md-fab-actions>
</md-fab-speed-dial>